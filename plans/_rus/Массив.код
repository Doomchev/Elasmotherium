класс Массив<"из" Тип[а]Элемента; "с индексом типа" ЛюбогоЦелого Тип[а]Индекса>
	статичный неизменный ТипаИндекса неНайден[] = -1
	
	создать("с размером" ТипаИндекса размер) должен размер >= 0
	
	создать("с размером" ТипаИндекса размер, "из" ТипаЭлемента значени[й])
		создать(размером с размер)
		для(ТипаИндекса и = 0 ..< размера) приравнять этого[и] значению
	
	ТипаИндекса размер[]()
  определить количеств[о] как размер
	
	ТипаЭлемента элемент[]("в/по" ТипаИндекса индекс[у]) должен 0 <= индекс < размер
	
	элемент[]("в/по" ТипаИндекса индекс[у], равный ТипаЭлемента значени[ю]) должен 0 <= индекс < размер
	
  Вопрос равен(ТакогоЖеТипа друг[ому]Массив[у])
    если(размер не == другогоМассива.размеру) ответить нет
    для(и = 0 ..< размера) если(этого(и) не == другогоМассивау(и)) ответить нет
    ответить да
	
	копировать("от" Целого начал[а], "в количестве" Целое количеств[о], "в" Массив.ТакогоЖеТипа массив[], "от" Целой позици[и])
		должно 0 <= начало < размер - количество и 0 <= позиция < массива.размер - количество
		для(и = 0 ..< количества) массива(и + позиция) = этого(начало + и)
	
  ТакогоЖеТипа част[ь]("до" ТипаИндекса кон[]ц[а]) -> часть(0, конец)
  
	ТакогоЖеТипа част[ь]("от" ТипаИндекса начал[а], "до" ТипаИндекса кон[]ц[а] = размеру)
    когда начало < 0, начало >= 0, конец < 0, конец >= 0
		если(начало < 0) началу += размер
		если(конец < 0) концу += размер
		должно 0 <= начало <= конец <= размер
    количество = конец - начало
    массив = ТакогоЖеТипа(количество)
    копировать(начала, количество элементов, массив, 0)
		вернуть массив
	
	част[ь]("от" ТипаИндекса начал[а] = 0, "до" ТипаИндекса кон[]ц[а] = размер, = ТакогоЖеТипа значени[ю])
    когда начало < 0, начало >= 0, конец < 0, конец >= 0
		если(начало < 0) началу += размер
		если(конец < 0) концу += размер
		должно 0 <= начало <= конец <= размер и значения.размер == конец - начало)
		значение.копировать(от 0, значения.размер элементов, этот, начала)
	
	ТипаИндекса индекс[](ТипаЭлемента элемент[])
		для(и = 0 ..< размера) если(этого(и) == элементу) вернуть и
		вернуть неНайден
	
	Вопрос содерж[и]т(ТипаЭлемента элемент[])
		для(и = 0 ..< размера) если(этого(и) == элементу) ответить да
		ответить нет

класс Массив<"из" Тип[а]Элемента, "размером в" Целый фиксированн[ый]Размер[] "с индексом типа" ЛюбогоЦелого Тип[а]Индекса> расширяет Массив<ТипаЭлемента, ТипаИндекса>
  ТипаИндекса размер = фиксированныйРазмер
}

класс Массив<Целое количествоИзмерений "измерений", "из" Тип[а]Элемента; "с индексом типа" ЛюбогоЦелого Тип[а]Индекса> расширяет Массив<ТипаЭлемента, ТипаИндекса>
  неизменный Массив<Целых, количествоИзмерений> _измерени[я]
  
  создать("с измерениями" Массив<Целых> измерени[й], количествоИзмерений>)
    _размер = 1
    для(и = 0 ..< количестваИзмерений) _размер *= измерений(и)
    создать(_размер)
    _измерения = измерения

  Целый размер(ТипаИндекса индекс[])
    должно 0 <= индекс < количествоИзмерений
    вернуть _измерений(индекс)

  Целый _индекс[,а](Массив<ТипаИндекса> индекс[])
    должен индекса.размер == количествуИзмерений)
    для(и = 0 ..< количестваИзмерений) должно 0 <= индекс(и) < _измерение(и)
    й = 0
    для(и = 0 ..< количестваИзмерений) й = й * _измерение(и) + индекс(и)
    вернуть й

  ТипаЭлемента элемент(Массив<ТипаИндекса> индекс[ов]) -> этого(_индексов(индекс))
  
  элемент(Массив<ТипаИндекса> индекс, = ТипаЭлемента значени[ю])
    этого(_индексов(индекс)) = значению
}

класс Массив<"из" Тип[]Элемента, "с измерениями" Массив<Целых> фиксированн[ые]Измерен[ия]; "с индексом" ЛюбойЦелый Тип[]Индекса> расширяет Массив<ТипаЭлемента, размер, ТипаИндекса>
  Целый размер()
    _размер = 1
    для(и = 0 ..< количестваИзмерений) _размер *= фиксированныхИзмерений(и)
    вернуть _размер

  Целый размер(ТипаИндекса индекс)
    должно 0 <= индекс < количествоИзмерений
    вернуть фиксированныхИзмерений(индекс)

  Целый _индекс[](Массив<ТипаИндекса> индекс[ы])
    должен индексов.размер == количествуИзмерений
    для(и = 0 ..< количестваИзмерений) должно 0 <= индексов(и) < фиксированныхИзмерений(и))
    к = 0
    для(и = 0 ..< количестваИзмерений) к *= фиксированныхИзмерений(и) + индексов(и)
    вернуть к

  ТипаЭлемента элемент(Массив<ТипаИндекса> индекс[ы]) это этого(_индексов(индекс))
  
  элемент(индекс[ы] типа Массив<ТипаИндекса>, = ТипаЭлемента значени[ю])
    этого(_индексов(индекс)) = значению
}